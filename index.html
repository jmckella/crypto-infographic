<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crypto Titans: A Comparative Analysis of BTC, ETH, & XRP</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 320px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .gradient-text {
            background: linear-gradient(to right, #00A6FB, #0582CA);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
    </style>
    <!-- Primary Meta Tags -->
    <title>üí∞ Crypto Titans: Comparative Analysis</title>
    <meta name="title" content="Crypto Titans: Comparative Analysis">
    <meta name="description" content="Interactive comparison of Bitcoin, Ethereum, and XRP with real-time prices, projection calculator, and data visualizations.">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://jmckella.github.io/crypto-infographic/">
    <meta property="og:title" content="üí∞ Crypto Titans: Comparative Analysis">
    <meta property="og:description" content="Interactive comparison of Bitcoin, Ethereum, and XRP with real-time prices, projection calculator, and data visualizations.">
    <meta property="og:image" content="https://jmckella.github.io/crypto-infographic/preview.png">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://jmckella.github.io/crypto-infographic/">
    <meta property="twitter:title" content="üí∞ Crypto Titans: Comparative Analysis">
    <meta property="twitter:description" content="Interactive comparison of Bitcoin, Ethereum, and XRP with real-time prices, projection calculator, and data visualizations.">
    <meta property="twitter:image" content="https://jmckella.github.io/crypto-infographic/preview.png">
</head>
<body class="text-gray-800">

    <div class="container mx-auto p-4 md:p-8">

        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-6xl font-black mb-2 gradient-text">Crypto Titans</h1>
            <p class="text-lg md:text-xl text-gray-600">A Comparative Analysis of Bitcoin, Ethereum, & XRP</p>
            <!-- Current Date Display -->
            <p id="priceTimestamp" class="text-sm text-gray-500 mt-2">Loading current prices...</p> 
        </header>

        <section id="foundations" class="mb-16">
            <h2 class="text-3xl font-bold text-center mb-8">The Foundations: Core Purpose & Function</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- BTC Card -->
                <div class="bg-white rounded-lg shadow-lg p-6 text-center transform hover:scale-105 transition-transform duration-300">
                    <div class="text-5xl mb-4">üí∞</div>
                    <h3 class="text-2xl font-bold mb-2" style="color: #FBB13C;">Bitcoin (BTC)</h3>
                    <p class="text-gray-700 font-semibold mb-2">Store of Value ("Digital Gold")</p>
                    <p class="text-sm text-gray-500"><strong class="text-gray-700">Current Price:</strong> <span id="btcCurrentPrice" class="font-bold text-base text-gray-800">$60,000</span> (Live)</p>
                    <p class="text-sm text-gray-500 mt-1"><strong class="text-gray-700">Supply:</strong> Fixed Cap (21 Million)</p>
                </div>
                <!-- ETH Card -->
                <div class="bg-white rounded-lg shadow-lg p-6 text-center transform hover:scale-105 transition-transform duration-300">
                    <div class="text-5xl mb-4">‚öôÔ∏è</div>
                    <h3 class="text-2xl font-bold mb-2" style="color: #0582CA;">Ethereum (ETH)</h3>
                    <p class="text-gray-700 font-semibold mb-2">Smart Contract Platform</p>
                    <p class="text-sm text-gray-500"><strong class="text-gray-700">Current Price:</strong> <span id="ethCurrentPrice" class="font-bold text-base text-gray-800">$3,500</span> (Live)</p>
                    <p class="text-sm text-gray-500 mt-1"><strong class="text-gray-700">Supply:</strong> Deflationary/Elastic</p>
                </div>
                <!-- XRP Card -->
                <div class="bg-white rounded-lg shadow-lg p-6 text-center transform hover:scale-105 transition-transform duration-300">
                    <div class="text-5xl mb-4">üåê</div>
                    <h3 class="text-2xl font-bold mb-2" style="color: #E84855;">XRP</h3>
                    <p class="text-gray-700 font-semibold mb-2">Cross-Border Payments</p>
                    <p class="text-sm text-gray-500"><strong class="text-gray-700">Current Price:</strong> <span id="xrpCurrentPrice" class="font-bold text-base text-gray-800">$0.50</span> (Live)</p>
                    <p class="text-sm text-gray-500 mt-1"><strong class="text-gray-700">Supply:</strong> Pre-Mined (100 Billion)</p>
                </div>
            </div>
        </section>

        <section id="drivers" class="mb-16">
            <h2 class="text-3xl font-bold text-center mb-8">The Driving Forces: Growth & Performance</h2>
             <p class="max-w-3xl mx-auto text-center text-gray-600 mb-10">Each asset's value is driven by a unique combination of technological utility, market sentiment, and adoption. While all are volatile, their performance metrics reveal distinct profiles tailored to different investment theses.</p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="bg-white rounded-lg shadow-lg p-6">
                    <h3 class="text-xl font-bold text-center mb-4">Transaction Speed Comparison</h3>
                     <p class="text-center text-sm text-gray-500 mb-4">XRP's focus on payments is evident in its near-instant settlement time compared to the more deliberate block times of Bitcoin and Ethereum.</p>
                    <div class="chart-container">
                        <canvas id="speedChart"></canvas>
                    </div>
                </div>
                <div class="bg-white rounded-lg shadow-lg p-6">
                    <h3 class="text-xl font-bold text-center mb-4">Market Behavior Profile</h3>
                     <p class="text-center text-sm text-gray-500 mb-4">This profile shows XRP's higher volatility and weaker correlation to Bitcoin, highlighting its independent market drivers, often tied to regulatory news.</p>
                    <div class="chart-container">
                        <canvas id="profileChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <section id="projections" class="mb-16">
            <h2 class="text-3xl font-bold text-center mb-8">The Horizon: Trajectory Outlook</h2>
             <p class="max-w-3xl mx-auto text-center text-gray-600 mb-10">Toggle between the 5-year and 10-year high-end projections below. The calculator will automatically use the selected horizon.</p>
            
            <!-- HORIZON SELECTION BUTTONS (5Y/10Y) -->
            <div class="flex justify-center space-x-4 mb-8">
                <button id="horizon-5y" onclick="setProjectionHorizon('5Y')" class="px-6 py-2 rounded-full font-bold transition-colors duration-200 bg-gray-200 text-gray-700 hover:bg-gray-300">5-Year Outlook (2030)</button>
                <button id="horizon-10y" onclick="setProjectionHorizon('10Y')" class="px-6 py-2 rounded-full font-bold transition-colors duration-200 bg-[#00A6FB] text-white shadow-md hover:opacity-80">10-Year Outlook (2035)</button>
            </div>
            
            <!-- TABBED CURRENCY OUTLOOK -->
            <div class="bg-white rounded-lg shadow-xl p-6 mb-10">
                <h3 id="trajectoryTitle" class="text-2xl font-bold text-center mb-6" style="color: #0582CA;">10-Year Trajectory Outlook (To 2035)</h3>
                
                <!-- Currency Tab Buttons -->
                <div class="flex justify-center space-x-4 mb-6 flex-wrap">
                    <button onclick="showOutlook('BTC')" id="tab-BTC" class="px-6 py-2 rounded-full font-bold transition-colors duration-200 bg-[#FBB13C] text-white shadow-md hover:opacity-80 m-1">Bitcoin (BTC)</button>
                    <button onclick="showOutlook('ETH')" id="tab-ETH" class="px-6 py-2 rounded-full font-bold transition-colors duration-200 bg-gray-200 text-gray-700 hover:bg-gray-300 m-1">Ethereum (ETH)</button>
                    <button onclick="showOutlook('XRP')" id="tab-XRP" class="px-6 py-2 rounded-full font-bold transition-colors duration-200 bg-gray-200 text-gray-700 hover:bg-gray-300 m-1">XRP</button>
                </div>

                <!-- Dynamic Content Display -->
                <div id="outlook-content" class="p-6 border rounded-lg shadow-inner">
                    <!-- Content will be injected here by JavaScript -->
                </div>
            </div>
            <!-- END TABBED CURRENCY OUTLOOK -->

            <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
                 <h3 class="text-xl font-bold text-center mb-4">Projected Long-Term Value Range (Logarithmic Scale)</h3>
                 <p class="text-center text-sm text-gray-500 mb-4">This chart reflects the <strong class="text-gray-800">10-Year (2035)</strong> high-end projections for comparative visualization.</p>
                <div class="chart-container h-96 max-h-[500px]">
                    <canvas id="projectionChart"></canvas>
                </div>
            </div>

            <div class="bg-white rounded-lg shadow-xl p-8 border-t-4 border-[#00A6FB]">
                <h3 id="calculatorTitle" class="text-2xl font-bold text-center mb-6" style="color: #0582CA;">2035 Potential Return Calculator</h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 items-end">
                    
                    <div>
                        <label for="investmentAmount" class="block text-sm font-medium text-gray-700 mb-1">Your Investment ($)</label>
                        <input type="number" id="investmentAmount" value="1000" min="1" class="w-full p-3 border border-gray-300 rounded-md focus:ring-[#00A6FB] focus:border-[#00A6FB]">
                    </div>

                    <div>
                        <label for="currencySelect" class="block text-sm font-medium text-gray-700 mb-1">Select Currency</label>
                        <select id="currencySelect" class="w-full p-3 border border-gray-300 rounded-md focus:ring-[#00A6FB] focus:border-[#00A6FB] appearance-none bg-white">
                            <option value="BTC">Bitcoin (BTC)</option>
                            <option value="ETH">Ethereum (ETH)</option>
                            <option value="XRP">XRP</option>
                        </select>
                    </div>

                    <div>
                        <button onclick="calculateReturn()" class="w-full p-3 text-white font-bold rounded-md shadow-md transition-all duration-300 ease-in-out hover:shadow-lg focus:outline-none focus:ring-4 focus:ring-[#00A6FB] focus:ring-opacity-50" style="background-color: #00A6FB;">
                            Calculate Return
                        </button>
                    </div>
                </div>

                <div id="results" class="mt-8 text-center bg-gray-50 p-6 rounded-lg border border-gray-200 min-h-[100px] flex flex-col justify-center">
                    <p class="text-gray-500">Enter an amount and select a currency to see the potential 2035 return.</p>
                </div>
            </div>
        </section>

        <section id="resources" class="mb-16">
            <h2 class="text-3xl font-bold text-center mb-8" style="color: #0582CA;">Further Research & Reputable Resources</h2>
            <div class="max-w-4xl mx-auto bg-white rounded-lg shadow-lg p-8">
                 <!-- NEW PRICE TARGET METHODOLOGY -->
                <div class="mb-8">
                     <h4 class="text-xl font-bold mb-3 border-b pb-2" style="color: #0582CA;">Price Target Methodology</h4>
                     <p class="text-gray-700 mb-3 text-sm">The 5-year (2030) and 10-year (2035) targets provided are high-end projections based on qualitative analysis, not guaranteed forecasts. They assume a 'best-case scenario' of continued crypto adoption and favorable regulatory environments.</p>
                     <ul class="list-disc list-inside space-y-2 text-sm text-gray-600">
                         <li><strong class="text-gray-800">BTC:</strong> Based on the assumption it captures an increasing share of the total global gold/reserve asset market capitalization after halving cycles.</li>
                         <li><strong class="text-gray-800">ETH:</strong> Based on its network utility, assuming it maintains dominance as the primary L1 settlement layer, fueling high demand for transaction fees (EIP-1559 burn mechanism), and increased adoption of Layer 2 scaling.</li>
                         <li><strong class="text-gray-800">XRP:</strong> Based on achieving mass institutional adoption in cross-border payments, potentially serving major global financial corridors, driving its market cap significantly higher.</li>
                     </ul>
                </div>
                <!-- END NEW PRICE TARGET METHODOLOGY -->

                <p class="text-gray-600 mb-6 text-center">We encourage viewers to conduct their own thorough research. Here are some starting points to understand the underlying principles and technologies of these assets:</p>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="space-y-4">
                        <h4 class="text-xl font-bold" style="color: #FBB13C;">Foundational Education</h4>
                        <ul class="list-none space-y-3">
                            <li class="flex items-start">
                                <span class="text-xl mr-3 text-[#E84855]">‚ñ∂Ô∏è</span>
                                <div>
                                    <p class="font-semibold text-gray-800">The Hidden Secrets of Money</p>
                                    <a href="https://www.youtube.com/playlist?list=PL223C8EE42FB4B7C9" target="_blank" class="text-[#00A6FB] hover:text-[#0582CA] transition duration-150 text-sm">Watch the full video series (Mike Maloney)</a>
                                </div>
                            </li>
                            <!-- UPDATED WITH LINK -->
                            <li class="flex items-start">
                                <span class="text-xl mr-3 text-[#E84855]">üì∞</span>
                                <div>
                                    <p class="font-semibold text-gray-800">Understanding Fiat vs. Sound Money</p>
                                    <a href="https://www.investopedia.com/terms/f/fiatmoney.asp" target="_blank" class="text-[#00A6FB] hover:text-[#0582CA] transition duration-150 text-sm">Read the Investopedia guide on Fiat Money</a>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div class="space-y-4">
                        <h4 class="text-xl font-bold" style="color: #0582CA;">Currency Deep Dives</h4>
                        <ul class="list-none space-y-3">
                             <li class="flex items-start">
                                <span class="text-xl mr-3" style="color: #FBB13C;">‚Çø</span>
                                <div>
                                    <p class="font-semibold text-gray-800">Bitcoin.org</p>
                                    <a href="https://bitcoin.org/en/getting-started" target="_blank" class="text-[#00A6FB] hover:text-[#0582CA] transition duration-150 text-sm">Official guides and documentation</a>
                                </div>
                            </li>
                            <li class="flex items-start">
                                <span class="text-xl mr-3" style="color: #0582CA;">Œû</span>
                                <div>
                                    <p class="font-semibold text-gray-800">Ethereum.org</p>
                                    <a href="https://ethereum.org/en/" target="_blank" class="text-[#00A6FB] hover:text-[#0582CA] transition duration-150 text-sm">Ecosystem overview and roadmap</a>
                                </div>
                            </li>
                            <!-- XRPL LINK CONFIRMED -->
                            <li class="flex items-start">
                                <span class="text-xl mr-3" style="color: #E84855;">ùì°</span>
                                <div>
                                    <p class="font-semibold text-gray-800">XRP Ledger (XRPL)</p>
                                    <a href="https://xrpl.org/" target="_blank" class="text-[#00A6FB] hover:text-[#0582CA] transition duration-150 text-sm">Documentation on the payment protocol</a>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <footer class="text-center mt-12 text-sm text-gray-500">
            <p>Disclaimer: Cryptocurrency markets are highly volatile. This content is for informational purposes only and does not constitute investment advice.</p>
            <p class="mt-1 text-xs">Current prices powered by CoinGecko | Market status via <a href="https://coinmarketcap.com/" target="_blank" class="text-[#00A6FB] hover:text-[#0582CA] font-semibold">CoinMarketCap</a>.</p>
        </footer>
    </div>

    <script>
        // --- Global State ---
        let activeCoin = 'BTC';
        let currentHorizon = '10Y'; // Default to 10-Year (2035)

        // Use a standard formatter for currency
        const currencyFormatter = new Intl.NumberFormat('en-US', {
            style: 'currency',
            currency: 'USD',
            minimumFractionDigits: 2,
            maximumFractionDigits: 2
        });
        
        // Data structure includes the CoinGecko API ID, a fallback current price, and 5-year/10-year projections.
        const PRICES = {
            BTC: { id: 'bitcoin', current: 60000, '5Y': 500000, '10Y': 1500000, color: '#FBB13C' },
            ETH: { id: 'ethereum', current: 3500, '5Y': 15000, '10Y': 35000, color: '#0582CA' },
            XRP: { id: 'ripple', current: 0.50, '5Y': 10, '10Y': 50, color: '#E84855' }
        };
        
        const OUTLOOK_DETAILS = {
            BTC: {
                '5Y': { title: 'BTC: Halving Cycle Momentum', year: '2030', text: "By 2030, following the 2024 halving, Bitcoin is expected to solidify its status as a major, regulated store of value. Adoption by institutional funds and clearer regulatory frameworks will be the primary drivers. Focus shifts from purely speculative growth to long-term capital preservation." },
                '10Y': { title: 'BTC: The Macro Reserve Asset', year: '2035', text: "By 2035, Bitcoin is projected to solidify its role as a global, non-sovereign **Store of Value**, competing directly with gold. Its trajectory is primarily driven by institutional adoption, regulatory clarity (e.g., global spot ETFs), and its fourth halving cycle completion. The scarcity model and its proven security make it an essential hedge against currency devaluation." }
            },
            ETH: {
                '5Y': { title: 'ETH: Layer 2 Scaling & DeFi Dominance', year: '2030', text: "The next five years will see Ethereum's value driven by the success of Layer 2 solutions (rollups) for scalability and reduced costs. Continued dominance in Decentralized Finance (DeFi) and the 'ultrasound money' deflationary mechanism are key to driving price appreciation." },
                '10Y': { title: 'ETH: The World Computer', year: '2035', text: "Ethereum's value trajectory is tied to its utility as the foundation for decentralized finance (DeFi), NFTs, and Web3 applications. Key drivers include successful scaling solutions, continued developer activity, and its deflationary 'ultrasound money' economic policy. Success relies on maintaining dominance against competing Layer 1 chains and high transaction throughput." }
            },
            XRP: {
                '5Y': { title: 'XRP: Regulatory Clarity & Utility', year: '2030', text: "XRP's 5-year outlook is heavily dependent on achieving favorable regulatory outcomes and securing partnerships with major financial institutions for cross-border payments. The immediate focus is on proving the utility of its fast, low-cost transaction network." },
                '10Y': { title: 'XRP: Bridging Traditional Finance', year: '2035', text: "XRP's trajectory is less tied to retail speculation and more focused on achieving major regulatory wins and integration with large financial institutions for cross-border settlements. Its efficiency and low-cost transaction fees are its core value proposition. Price growth will be contingent on securing partnerships and mainstream adoption by banks and payment providers worldwide." }
            }
        };

        // Utility to format large numbers to currency with no cents
        const largeCurrencyFormatter = new Intl.NumberFormat('en-US', {
            style: 'currency',
            currency: 'USD',
            minimumFractionDigits: 0,
            maximumFractionDigits: 0
        });

        // Function to fetch real-time prices with exponential backoff
        async function fetchPrices(retries = 3) {
            const ids = Object.values(PRICES).map(p => p.id).join(',');
            const apiUrl = `https://api.coingecko.com/api/v3/simple/price?ids=${ids}&vs_currencies=usd`;

            try {
                const response = await fetch(apiUrl);
                if (!response.ok) {
                    throw new Error(`Network response was not ok: ${response.status}`);
                }
                const data = await response.json();
                
                // Update PRICES object with fetched data
                PRICES.BTC.current = data.bitcoin?.usd || PRICES.BTC.current;
                PRICES.ETH.current = data.ethereum?.usd || PRICES.ETH.current;
                PRICES.XRP.current = data.ripple?.usd || PRICES.XRP.current;

                // Update UI elements
                document.getElementById('btcCurrentPrice').textContent = largeCurrencyFormatter.format(PRICES.BTC.current);
                document.getElementById('ethCurrentPrice').textContent = largeCurrencyFormatter.format(PRICES.ETH.current);
                document.getElementById('xrpCurrentPrice').textContent = currencyFormatter.format(PRICES.XRP.current);

                // Update date and year
                const now = new Date();
                const dateOptions = { month: 'short', day: 'numeric', year: 'numeric', hour: 'numeric', minute: 'numeric', hour12: true };
                const formattedDate = now.toLocaleDateString('en-US', dateOptions);
                document.getElementById('priceTimestamp').textContent = `Prices updated: ${formattedDate}`;

            } catch (error) {
                console.error(`Attempt failed. Retries left: ${retries - 1}.`, error);
                if (retries > 1) {
                    const delay = Math.pow(2, 3 - retries) * 1000; // Exponential backoff: 1s, 2s
                    await new Promise(resolve => setTimeout(resolve, delay));
                    return fetchPrices(retries - 1);
                }
                document.getElementById('priceTimestamp').textContent = `Live prices failed to load. Using static estimates.`;
                console.error("All retries failed. Using static fallback data.");
            }
        }
        
        // Function to switch the main projection horizon (5Y or 10Y)
        function setProjectionHorizon(horizon) {
            currentHorizon = horizon;
            const year = OUTLOOK_DETAILS.BTC[horizon].year; // Get the year (2030 or 2035)

            // Update button styles
            document.getElementById('horizon-5y').style.backgroundColor = (horizon === '5Y') ? '#00A6FB' : 'rgb(229 231 235)';
            document.getElementById('horizon-5y').style.color = (horizon === '5Y') ? 'white' : 'rgb(55 65 81)';
            document.getElementById('horizon-10y').style.backgroundColor = (horizon === '10Y') ? '#00A6FB' : 'rgb(229 231 235)';
            document.getElementById('horizon-10y').style.color = (horizon === '10Y') ? 'white' : 'rgb(55 65 81)';

            // Update section and calculator titles
            document.getElementById('trajectoryTitle').textContent = `${horizon}-Year Trajectory Outlook (To ${year})`;
            document.getElementById('calculatorTitle').textContent = `${year} Potential Return Calculator`;
            
            // Re-render the currently active coin outlook with the new horizon data
            showOutlook(activeCoin);
            
            // Recalculate if values exist
            const resultsDiv = document.getElementById('results');
            if (!resultsDiv.textContent.includes("Enter an amount")) {
                 calculateReturn();
            } else {
                 resultsDiv.innerHTML = `<p class="text-gray-500">Enter an amount and select a currency to see the potential ${year} return.</p>`;
            }
        }

        // Function to handle the tabbed trajectory view (BTC, ETH, XRP)
        function showOutlook(currencyKey) {
            activeCoin = currencyKey;
            
            // Get data for the current coin and the selected horizon
            const data = OUTLOOK_DETAILS[currencyKey][currentHorizon];
            const targetPrice = PRICES[currencyKey][currentHorizon];
            const color = PRICES[currencyKey].color;
            const year = data.year;

            // Reset all currency tabs to gray style
            document.querySelectorAll('[id^="tab-"]').forEach(tab => {
                tab.style.backgroundColor = 'rgb(229 231 235)'; // gray-200
                tab.style.color = 'rgb(55 65 81)'; // gray-700
            });

            // Style the active currency tab
            const activeTab = document.getElementById(`tab-${currencyKey}`);
            if (activeTab) {
                activeTab.style.backgroundColor = color;
                activeTab.style.color = 'white';
            }
            
            // Format for display
            const priceFormat = new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: 'USD',
                minimumFractionDigits: (targetPrice < 100) ? 2 : 0, 
                maximumFractionDigits: (targetPrice < 100) ? 2 : 0
            });

            // Update the dynamic content pane
            document.getElementById('outlook-content').innerHTML = `
                <div class="border border-[${color}] rounded-lg shadow-inner p-4 transition-all duration-300">
                    <h4 class="text-2xl font-extrabold mb-3" style="color: ${color};">${data.title}</h4>
                    <p class="text-gray-700 mb-4">${data.text}</p>
                    <p class="text-2xl font-black mt-3 text-center">${year} High-End Target: <span class="text-[${color}]">${priceFormat.format(targetPrice)}+</span></p>
                </div>
            `;
            // Ensure the border color is set correctly using the style attribute
            document.getElementById('outlook-content').querySelector('div').style.borderColor = color;
        }


        // Function to run the calculator based on dynamic prices
        function calculateReturn() {
            const amountInput = document.getElementById('investmentAmount');
            const currencySelect = document.getElementById('currencySelect');
            const resultsDiv = document.getElementById('results');

            const investmentAmount = parseFloat(amountInput.value);
            const currencyKey = currencySelect.value;
            const data = PRICES[currencyKey];
            const year = OUTLOOK_DETAILS[currencyKey][currentHorizon].year;
            
            if (isNaN(investmentAmount) || investmentAmount <= 0) {
                resultsDiv.innerHTML = '<p class="text-red-500 font-semibold">Please enter a valid investment amount.</p>';
                return;
            }

            const currentPrice = data.current;
            const targetPrice = data[currentHorizon];
            
            const numberOfCoins = investmentAmount / currentPrice;
            const futureValue = numberOfCoins * targetPrice;
            const totalReturn = futureValue - investmentAmount;
            const percentReturn = (totalReturn / investmentAmount) * 100;

            // Format for display
            const format = new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: 'USD',
                minimumFractionDigits: (targetPrice < 100) ? 2 : 0, 
                maximumFractionDigits: (targetPrice < 100) ? 2 : 0
            });
            
            const returnColor = data.color;

            resultsDiv.innerHTML = `
                <p class="text-lg font-semibold text-gray-700 mb-2">Potential ${year} Performance for ${currencyKey}</p>
                <div class="grid grid-cols-3 gap-4 text-sm font-medium">
                    <div>
                        <p class="text-gray-500">Coins Acquired (at ${currencyFormatter.format(currentPrice)}):</p>
                        <p class="text-xl font-bold" style="color: ${returnColor};">${numberOfCoins.toFixed(2)}</p>
                    </div>
                    <div>
                        <p class="text-gray-500">Future Value:</p>
                        <p class="text-xl font-bold" style="color: ${returnColor};">${format.format(futureValue)}</p>
                    </div>
                    <div>
                        <p class="text-gray-500">Total Return:</p>
                        <p class="text-xl font-bold" style="color: ${returnColor};">+${percentReturn.toFixed(0)}%</p>
                    </div>
                </div>
                <p class="text-xs text-gray-400 mt-4">*Based on the current live price and the high-end ${year} projection.</p>
            `;
        }

        // --- Chart Initialization (remains based on 10-Year for max comparison) ---
        
        const sharedChartOptions = {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    position: 'bottom',
                    labels: {
                        font: {
                           family: "'Inter', sans-serif",
                           size: 14
                        }
                    }
                },
                tooltip: {
                    callbacks: {
                        title: (tooltipItems) => {
                            const item = tooltipItems[0];
                            let label = item.chart.data.labels[item.dataIndex];
                            return Array.isArray(label) ? label.join(' ') : label;
                        }
                    },
                    bodyFont: { family: "'Inter', sans-serif" },
                    titleFont: { family: "'Inter', sans-serif" }
                }
            },
            scales: {
                x: {
                    ticks: { font: { family: "'Inter', sans-serif", size: 12 } },
                    grid: { display: false }
                },
                y: {
                     ticks: { font: { family: "'Inter', sans-serif", size: 12 } },
                     grid: { color: '#e5e7eb' }
                }
            }
        };
        
        function initializeCharts() {
            const speedCtx = document.getElementById('speedChart').getContext('2d');
            new Chart(speedCtx, {
                type: 'bar',
                data: {
                    labels: ['XRP (~4s)', 'Ethereum (~15s)', 'Bitcoin (~10m)'],
                    datasets: [{
                        label: 'Transaction Time (Seconds)',
                        data: [4, 15, 600],
                        backgroundColor: ['#E84855', '#0582CA', '#FBB13C'],
                        borderColor: ['#E84855', '#0582CA', '#FBB13C'],
                        borderWidth: 1
                    }]
                },
                options: { ...sharedChartOptions,
                    indexAxis: 'y',
                    scales: {
                        x: {
                            type: 'logarithmic',
                            title: { display: true, text: 'Time in Seconds (Log Scale)' },
                             ticks: { font: { family: "'Inter', sans-serif", size: 12 } },
                             grid: { color: '#e5e7eb' }
                        },
                        y: {
                             ticks: { font: { family: "'Inter', sans-serif", size: 12 } },
                             grid: { display: false }
                        }
                    }
                }
            });

            const profileCtx = document.getElementById('profileChart').getContext('2d');
            new Chart(profileCtx, {
                type: 'radar',
                data: {
                    labels: ['Volatility', 'Correlation w/ BTC'],
                    datasets: [
                        { label: 'BTC', data: [0.7, 1.0], backgroundColor: 'rgba(251, 177, 60, 0.2)', borderColor: '#FBB13C', pointBackgroundColor: '#FBB13C', pointBorderColor: '#fff' },
                        { label: 'ETH', data: [0.8, 0.8], backgroundColor: 'rgba(5, 130, 202, 0.2)', borderColor: '#0582CA', pointBackgroundColor: '#0582CA', pointBorderColor: '#fff' },
                        { label: 'XRP', data: [1.0, 0.5], backgroundColor: 'rgba(232, 72, 85, 0.2)', borderColor: '#E84855', pointBackgroundColor: '#E84855', pointBorderColor: '#fff' }
                    ]
                },
                options: {
                     responsive: true,
                     maintainAspectRatio: false,
                     plugins: {
                        legend: { position: 'bottom', labels: { font: { family: "'Inter', sans-serif", size: 14 } } },
                        tooltip: { callbacks: { title: (tooltipItems) => tooltipItems[0].dataset.label }, bodyFont: { family: "'Inter', sans-serif" }, titleFont: { family: "'Inter', sans-serif" } }
                    },
                    scales: {
                        r: {
                            angleLines: { display: true },
                            suggestedMin: 0,
                            suggestedMax: 1,
                            pointLabels: { font: { size: 14, weight: 'bold', family: "'Inter', sans-serif" } },
                            ticks: { backdropColor: 'rgba(255, 255, 255, 0.75)' }
                        }
                    }
                }
            });
            
            const projectionCtx = document.getElementById('projectionChart').getContext('2d');
            new Chart(projectionCtx, {
                type: 'bar',
                data: {
                    labels: ['XRP', 'Ethereum', 'Bitcoin'],
                    datasets: [{
                        label: 'Low-End Projection ($)',
                        data: [10, 15000, 500000], // Using 2035 Low-End for visual range
                        backgroundColor: '#006494',
                        borderColor: '#006494',
                        borderWidth: 1,
                        stack: 'Stack 0',
                    }, {
                        label: 'High-End Projection ($)',
                        data: [50, 35000, 1500000], // Using 2035 High-End
                        backgroundColor: ['#E84855', '#0582CA', '#FBB13C'],
                        borderColor: ['#E84855', '#0582CA', '#FBB13C'],
                        borderWidth: 1,
                        stack: 'Stack 0',
                    }]
                },
                options: {
                    ...sharedChartOptions,
                    indexAxis: 'y',
                     scales: {
                        x: {
                            type: 'logarithmic',
                            title: { display: true, text: 'Projected Value in USD (Log Scale)', font: { size: 14, family: "'Inter', sans-serif" } },
                            ticks: {
                                 font: { family: "'Inter', sans-serif", size: 12 },
                                callback: function(value, index, values) {
                                    if (value === 1000000) return '$1M';
                                    if (value === 100000) return '$100K';
                                    if (value === 10000) return '$10K';
                                    if (value === 1000) return '$1K';
                                    if (value === 100) return '$100';
                                    if (value === 10) return '$10';
                                    return null;
                                }
                            },
                             grid: { color: '#e5e7eb' }
                        },
                        y: {
                            stacked: true,
                            ticks: { font: { size: 16, weight: 'bold', family: "'Inter', sans-serif" } },
                             grid: { display: false }
                        }
                    }
                }
            });
        }
        
        // --- Initialize on Load ---
        window.onload = () => {
            fetchPrices(); // Fetch and update current prices
            initializeCharts(); // Draw charts
            setProjectionHorizon('10Y'); // Set 10Y as default and trigger initial render
        };

    </script>
</body>
</html>
